(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{471:function(t,e,r){"use strict";r.r(e);var n=r(418),o=r(461),c=r(432),l=r(559),d=r(497),m=r(565),k=r(560),v=r(558),f=r(191),h=r(89),_=r(569),w=r(431),x=r(557),y=r(563),C=r(428),D=r(556),T=r(562),j=(r(10),r(58),r(36)),R=(r(33),r(45),r(109),r(436)),A=r(443),$=r.n(A),O={data:function(){return{task:[],dialog:!1,detail:"",snackbar:!1,drawer:!1,edit:!0,menu2:!1,newTask:!1}},watch:{changes:function(){this.drawer=!0,this.edit=!0,this.newTask=!1},id:function(t){this.getData(t)},upload:function(){this.task={token:"",title:"",is_completed:0,due_date:"",comments:"",description:"",tags:""},this.drawer=!0,this.edit=!1,this.newTask=!0},edits:function(){this.drawer=!0,this.edit=!1,this.newTask=!1}},methods:{getData:function(t){var e=this;return Object(j.a)(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,R.a.get("/"+t);case 3:n=r.sent,e.task=n.data[0]||{},r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),console.error(r.t0);case 10:case"end":return r.stop()}}),r,null,[[0,7]])})))()},deleteData:function(t){var e=this;return Object(j.a)(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,R.a.delete("/"+t);case 3:n=r.sent,e.detail=n.data.detail||{},e.dialog=!1,e.snackbar=!0,e.drawer=!1,e.$emit("refreshData"),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),console.error(r.t0);case 14:case"end":return r.stop()}}),r,null,[[0,11]])})))()},completeTask:function(t){var e=this;return Object(j.a)(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,R.a.get("/"+t);case 3:return n=r.sent,e.task=n.data[0]||{},e.task.is_completed=1,r.next=8,R.a.put("/"+t,$.a.stringify(e.task));case 8:r.sent,e.drawer=!1,e.$emit("refreshData"),r.next=16;break;case 13:r.prev=13,r.t0=r.catch(0),console.error(r.t0);case 16:case"end":return r.stop()}}),r,null,[[0,13]])})))()},inCompleteTask:function(t){var e=this;return Object(j.a)(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,R.a.get("/"+t);case 3:return n=r.sent,e.task=n.data[0]||{},e.task.is_completed=0,r.next=8,R.a.put("/"+t,$.a.stringify(e.task));case 8:r.sent,e.drawer=!1,e.$emit("refreshData"),r.next=16;break;case 13:r.prev=13,r.t0=r.catch(0),console.error(r.t0);case 16:case"end":return r.stop()}}),r,null,[[0,13]])})))()},submitChanges:function(){var t=this;return Object(j.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(t.task),e.next=4,R.a.put("/"+t.task.id,$.a.stringify(t.task));case 4:r=e.sent,console.log(r.data),t.edit=!t.edit,t.drawer=!t.drawer,t.$emit("refreshData"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()},submitNew:function(){var t=this;return Object(j.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(t.task),e.next=4,R.a.post("",$.a.stringify(t.task));case 4:e.sent,t.edit=!t.edit,t.newTask=!t.newTask,t.drawer=!t.drawer,t.$emit("refreshData"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()}},props:{changes:Boolean,id:Number,upload:Boolean,edits:Boolean},computed:{difference:function(){var t=new Date,e=new Date(this.task.due_date)-t,r=Math.ceil(e/864e5);return 1==this.task.is_completed?"blue":r>7?"green":r>=4&&r<=7?"orange":"red darken-2"},formattedDate:function(){var t=new Date(this.task.due_date).toLocaleDateString("es-ES",{weekday:"long"});return t.charAt(0).toLocaleUpperCase()+t.slice(1)},formattedDateMonth:function(){return new Date(this.task.due_date).toLocaleDateString("es-ES",{month:"long",day:"numeric",year:"numeric"})}}},S=r(72),component=Object(S.a)(O,(function(){var t=this,e=t._self._c;return e(w.a,{attrs:{fixed:"",top:"",temporary:"",right:"",cliped:"",width:"400"},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[e(h.b,{staticClass:"text-h6"},[e(n.a,{attrs:{icon:""},on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}},[e(f.a,{attrs:{"x-large":""}},[t._v("\n        mdi-chevron-double-right\n      ")])],1)],1),t._v(" "),e(v.a),t._v(" "),t.edit?e(x.a,{staticClass:"pa-3",attrs:{dense:""}},[e(d.a,[e(x.a,{attrs:{justify:"center",align:"center"}},[e("h1",{staticClass:"display-2 ma-4"},[t._v(" "+t._s(t.task.title))])]),t._v(" "),e(x.a,{attrs:{justify:"center",align:"center"}},[t.task.tags?e(l.a,{staticClass:"ma-2",attrs:{color:"primary"}},[t._v("\n          "+t._s(t.task.tags)+"\n        ")]):t._e()],1),t._v(" "),e("h3",[t._v("Descripción:")]),t._v(" "),e(o.a,{staticClass:"ml-4 pa-2 my-4",attrs:{outlined:"",height:"50"}},[e("p",{},[t._v("\n          "+t._s(t.task.description)+"\n        ")])]),t._v(" "),e("h3",[t._v("Comentarios:")]),t._v(" "),e(o.a,{staticClass:"ml-4 pa-2 my-4",attrs:{outlined:"",height:"50"}},[e("p",[t._v("\n          "+t._s(t.task.comments)+"\n        ")])]),t._v(" "),e(o.a,{staticClass:"my-4",attrs:{color:t.difference,height:"150"}},[e(x.a,[e(d.a,{attrs:{align:"center",justify:"center"}},[e("p",[t._v("Fecha de entrega:")]),t._v(" "),e("h1",[t._v(" "+t._s(t.formattedDate)+" ")]),t._v(" "),e("h3",[t._v(" "+t._s(t.formattedDateMonth))])])],1)],1),t._v(" "),0===t.task.is_completed?e(n.a,{staticClass:"pa-8 my-4",attrs:{color:"green",block:""},on:{click:function(e){return t.completeTask(t.task.id)}}},[e(f.a,{attrs:{large:""}},[t._v("mdi-star-outline")])],1):t._e(),t._v(" "),1===t.task.is_completed?e(n.a,{staticClass:"pa-8 my-4",attrs:{color:"amber accent-4",block:""},on:{click:function(e){return t.inCompleteTask(t.task.id)}}},[e(f.a,{attrs:{large:""}},[t._v("mdi-star")])],1):t._e(),t._v(" "),e(x.a,[e(d.a,[e(n.a,{staticClass:"pa-4",attrs:{color:"blue",block:""},on:{click:function(e){t.edit=!t.edit}}},[e(f.a,{attrs:{large:""}},[t._v("mdi-pencil")])],1)],1),t._v(" "),e(d.a,[e("div",{staticClass:"text-center"},[e(k.a,{attrs:{width:"500"},scopedSlots:t._u([{key:"activator",fn:function(r){var o=r.on,c=r.attrs;return[e(n.a,t._g(t._b({staticClass:"pa-4",attrs:{color:"red",block:""}},"v-btn",c,!1),o),[e(f.a,{attrs:{large:""}},[t._v("mdi-trash-can-outline")])],1)]}}],null,!1,659178134),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t._v(" "),e(o.a,[e(c.d,{staticClass:"text-h5 red darken-3"},[t._v("\n                  Borrar permanentemente\n                ")]),t._v(" "),e(c.c,{attrs:{justify:"center",align:"center"}},[t._v("\n                  Des: "+t._s(t.task.description)+"\n                ")]),t._v(" "),e(v.a),t._v(" "),e(c.a,[e(C.a),t._v(" "),e(n.a,{attrs:{color:"red lighten-1",text:""},on:{click:function(e){return t.deleteData(t.id)}}},[t._v("\n                    Borrar\n                  ")])],1)],1)],1)],1)])],1)],1)],1):t._e(),t._v(" "),t.edit?t._e():e(x.a,{staticClass:"pa-3",attrs:{dense:""}},[e(D.a,{staticClass:"display-1 pa-4",attrs:{label:"Titulo",color:"green",outlined:""},model:{value:t.task.title,callback:function(e){t.$set(t.task,"title",e)},expression:"task.title"}}),t._v(" "),e(D.a,{attrs:{dense:"",label:"Tag",filled:"",rounded:"",color:"green"},model:{value:t.task.tags,callback:function(e){t.$set(t.task,"tags",e)},expression:"task.tags"}}),t._v(" "),e(T.a,{attrs:{outlined:"",name:"input-7-4",label:"Descripción",color:"green",rows:"3"},model:{value:t.task.description,callback:function(e){t.$set(t.task,"description",e)},expression:"task.description"}}),t._v(" "),e(T.a,{attrs:{outlined:"",name:"input-7-4",label:"Comentarios",color:"green",rows:"3"},model:{value:t.task.comments,callback:function(e){t.$set(t.task,"comments",e)},expression:"task.comments"}}),t._v(" "),e(_.a,{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(r){var n=r.on,o=r.attrs;return[e(D.a,t._g(t._b({attrs:{label:"Fechas de entrega","prepend-icon":"mdi-calendar",readonly:"",color:"green"},model:{value:t.task.due_date,callback:function(e){t.$set(t.task,"due_date",e)},expression:"task.due_date"}},"v-text-field",o,!1),n))]}}],null,!1,2652388859),model:{value:t.menu2,callback:function(e){t.menu2=e},expression:"menu2"}},[t._v(" "),e(m.a,{attrs:{color:"green",locale:"es-MX"},on:{input:function(e){t.menu2=!1}},model:{value:t.task.due_date,callback:function(e){t.$set(t.task,"due_date",e)},expression:"task.due_date"}})],1),t._v(" "),t.newTask?t._e():e(n.a,{staticClass:"pa-4",attrs:{color:"blue",block:""},on:{click:t.submitChanges}},[e(f.a,{attrs:{large:""}},[t._v("mdi-pencil")])],1),t._v(" "),t.newTask?e(n.a,{staticClass:"pa-4",attrs:{color:"green",block:""},on:{click:t.submitNew}},[e(f.a,{attrs:{large:""}},[t._v("mdi-plus")])],1):t._e()],1),t._v(" "),e(y.a,{attrs:{absolute:"",bottom:"",color:"lime accent-3",outlined:""},scopedSlots:t._u([{key:"action",fn:function(r){var o=r.attrs;return[e(n.a,t._b({attrs:{color:"lime accent-3",text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",o,!1),[t._v("\n        Close\n      ")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n    "+t._s(t.detail)+"\n\n    ")])],1)}),[],!1,null,null,null);e.default=component.exports},480:function(t,e,r){"use strict";r.r(e);var n=r(461),o=r(191),c=r(557),l=r(552),d=r(553),m={components:{Card:r(438).default},props:{tasks:Array,color:String},emits:["resolve-task","refreshData","newTask"]},k=r(72),component=Object(k.a)(m,(function(){var t=this,e=t._self._c;return e("div",[e(l.a,{attrs:{dense:""}},[e(d.a,{attrs:{color:"lime accent-3",small:""}},[e(c.a,[e(n.a,{staticClass:"my-4",attrs:{shaped:"",dark:"",outlined:"","min-width":"200","min-height":"50",color:"green light-3",align:"center",justify:"center"},on:{click:function(e){return t.$emit("newTask")}}},[e(o.a,{attrs:{"x-large":""}},[t._v("mdi-plus")])],1)],1)],1),t._v(" "),t._l(t.tasks,(function(r){return e(d.a,{key:r.id,attrs:{color:"lime accent-3",small:""}},[e(c.a,[e("Card",{attrs:{task:r},on:{"resolve-task":function(e){return t.$emit("resolve-task",r.id)},refreshData:function(e){return t.$emit("refreshData1")}}})],1)],1)}))],2)],1)}),[],!1,null,"b0dcc294",null);e.default=component.exports;installComponents(component,{Card:r(438).default})},567:function(t,e,r){"use strict";r.r(e);var n=r(497),o=r(191),c=r(557),l=r(36),d=(r(5),r(9),r(285),r(109),r(471)),m=r(480),k=r(481),v=r(436),f={name:"IndexPage",data:function(){return{tasks:[],changes:!1,edits:!1,id:0,currentDate:(new Date).toLocaleDateString("es-ES",{day:"numeric",month:"long",year:"numeric"}),completedArray:[],notCompletedArray:[],upload:!1}},mounted:function(){this.getData()},methods:{showTask:function(t){this.id=t,this.changes=!this.changes},editTask:function(t){this.id=t,this.edits=!this.edits},getData:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get();case 3:r=e.sent,t.tasks=r.data,t.separateArrays(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},separateArrays:function(){var t=this;this.completedArray=[],this.notCompletedArray=[],this.tasks.forEach((function(element){1===element.is_completed?t.completedArray.push(element):t.notCompletedArray.push(element)})),this.completedArray.sort((function(a,b){return new Date(a.due_date)-new Date(b.due_date)})),this.notCompletedArray.sort((function(a,b){return new Date(a.due_date)-new Date(b.due_date)}))}},components:{Task:d.default,TimelineVue:m.default,TimelineCompleted:k.default}},h=r(72),component=Object(h.a)(f,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"pa-md-4"},[e(c.a,[e(n.a,[e(c.a,{staticClass:"ma-2"},[e("h1",[t._v("¡Hola!")]),e(o.a,{staticClass:"mx-4",attrs:{color:"green","x-large":""}},[t._v("mdi-hand-wave")])],1),t._v(" "),e("h3",[t._v(" Estas son tus tareas "),e("br"),t._v(" de hoy "+t._s(t.currentDate))]),t._v(" "),e("TimelineVue",{attrs:{tasks:t.notCompletedArray},on:{"resolve-task":t.showTask,refreshData1:function(e){return t.getData()},newTask:function(e){t.upload=!t.upload}}})],1),t._v(" "),e(n.a,[e("h1",[t._v("Tareas Realizadas")]),t._v(" "),e("TimelineCompleted",{attrs:{tasks:t.completedArray},on:{"resolve-task":t.showTask,editTask:t.editTask}})],1)],1),t._v(" "),e("Task",{attrs:{changes:t.changes,id:t.id,upload:t.upload,edits:t.edits},on:{refreshData:function(e){return t.getData()}}})],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{TimelineCompleted:r(481).default,Task:r(471).default})}}]);